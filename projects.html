<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Projects</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="/js/theme-toggle.js" defer></script>
</head>
<body>
    <header>
        <h1>Kenneth Tran</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="experience.html">Experience</a></li>
                <li><a href="projects.html">Projects</a></li>
            </ul>
        </nav>

        <button id="theme-toggle" aria-label="Toggle dark/light mode">
            <i class="fa-solid fa-sun" id="sun-icon"></i>
            <i class="fa-solid fa-moon" id="moon-icon" style="display: none;"></i>
        </button>
    </header>

    <main>
        <!-- Visible only when JavaScript is disabled -->
        <noscript>
            <section class="noscript-warning">
                <p><strong>Note:</strong> For more accurate and updated details of my projects, please have Javascript enabled!</p>
            </section>
        </noscript>

        <!-- Default view; does not use CDN -->
        <section class="projects-section">
            <h2>Projects</h2>
    
            <article id="successorator">
                <h3>Sucessorator</h3>
                <p>A web application designed to help users manage their tasks efficiently. Built using <strong>Java</strong> on <strong>Android Studio</strong>.</p>
                <ul>
                    <li><strong>Technologies Used:</strong> Android Studio, Java, JUnit</li>
                </ul>
                <a href="https://github.com/21KennethTran/successorator" target="_blank">View on GitHub</a>
            </article>
    
            <article id="hawaii-recommender-systems">
                <h3>Recommender System for Hawaii Businesses</h3>
                <p>Machine learning models trained to recommend businesses to users using <strong>Python</strong>.</p>
                <figure>
                    <img src="img/hawaii.png" alt="Hawaii Screenshot">
                    <figcaption>Density of Businesses by Island</figcaption>
                </figure>
                <ul>
                    <li><strong>Technologies Used:</strong> Pandas, Python, sklearn</li>
                </ul>
                <a href="https://github.com/21KennethTran/HawaiiRecommender" target="_blank">View on GitHub</a>
                <details>
                    <summary>Read the Paper Here Instead!</summary>
                    <iframe src="https://drive.google.com/file/d/1qQpFY97YZfsBb4JAJNIB-z3jmay9c9Q8/preview" 
                            width="600" height="800" allow="autoplay">
                    </iframe>
                </details>
            </article>
    
            <article id="youlostit">
                <h3>YouLostIt (IoT)</h3>
                <p>Leveraging Embedded systems to create a more intuitive Apple Airtag using <strong>C/C++</strong>.</p>
                <details>
                    <summary>Demo of board flashing my <span>encrypted</span> ID!</summary>
                    <video controls>
                        <source src="img/blinker2.mp4" type="video/mp4">
                        Your browser does not support the video element.
                    </video>
                </details>
                <ul>
                    <li><strong>Technologies Used:</strong> C/C++, STM32, I2C</li>
                </ul>
                <a href="https://github.com/21KennethTran/youlostit" target="_blank">View on GitHub</a>
            </article>
        </section>

        <script>
            document.addEventListener("DOMContentLoaded", async () => {
                const projectsSection = document.querySelector('.projects-section')
                const LOCAL_STORAGE_KEY = 'cachedProjectData'

                function createMediaElements(fileUrls, fileTypes) {
                    if (!fileUrls || !fileTypes) return ''

                    return fileUrls.map((url, i) => {
                        const type = fileTypes[i]
                        if (type === 'pdf') {
                            return `
                                <details style="display: block; width: fit-content; margin: 1rem auto; text-align: left;">
                                    <summary style="cursor: pointer; font-weight: bold; text-align: center;">
                                        Read the Paper Here Instead!
                                    </summary>
                                    <iframe src="${url}" width="700" height="900" allow="autoplay"
                                            style="display: block; margin: 0.5rem auto;"></iframe>
                                </details>
                            `
                        } else if (type === 'mp4') {
                            return `<video controls style="display: block; margin: 1rem auto; width: 300px; max-height: 500px;">
                                        <source src="${url}" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>`;
                        } else if (['png', 'jpg', 'jpeg', 'gif'].includes(type)) {
                            return `<img src="${url}" alt="Project asset" style="display: block; margin: 1rem auto; max-width: 90%; height: auto;" />`;
                        } else {
                            return `<a href="${url}" target="_blank" style="display:block; margin-top: 1rem;">View file</a>`;
                        }
                    }).join('')
                }

                function renderProjects(projects) {
                    projectsSection.innerHTML = '<h2>Projects</h2>';
                    projects.forEach(project => {
                        const article = document.createElement('article');
                        article.id = project.id;

                        const title = document.createElement('h3');
                        title.textContent = project.name;

                        const meta = document.createElement('p');
                        meta.innerHTML = `<em>${project.date}</em>`;

                        const techList = document.createElement('ul');
                        const techItem = document.createElement('li');
                        techItem.innerHTML = `<strong>Technologies Used:</strong> ${project.technologies.join(', ')}`;
                        techList.appendChild(techItem);

                        const descList = document.createElement('ul');
                        project.description.forEach(line => {
                            const li = document.createElement('li');
                            li.textContent = line;
                            descList.appendChild(li);
                        })

                        const mediaHTML = createMediaElements(project.fileUrl, project.fileType);
                        const mediaWrapper = document.createElement('div');
                        mediaWrapper.innerHTML = mediaHTML;

                        const sourceLink = document.createElement('a');
                        sourceLink.href = project.sourceURL;
                        sourceLink.target = "_blank";
                        sourceLink.textContent = 'View on GitHub';
                        

                        article.appendChild(title);
                        article.appendChild(meta);
                        article.appendChild(techList);
                        article.appendChild(descList);
                        article.appendChild(mediaWrapper);
                        article.appendChild(sourceLink);

                        projectsSection.appendChild(article);
                    })
                }

                try {
                    const cached = localStorage.getItem(LOCAL_STORAGE_KEY);
                    if (cached) {
                        const cachedData = JSON.parse(cached);
                        renderProjects(cachedData);
                        return;
                    }

                    const response = await fetch('https://api.jsonbin.io/v3/b/687ffd63f7e7a370d1ec38e2');
                    const data = await response.json();
                    const projects = data.record;

                    renderProjects(projects);
                    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(projects));
                } catch (error) {
                    console.error('Failed to load projects: ', error);
                }
            })
        </script>
    
        <div class="other-projects">
            <h2>Other Projects</h2>
            <table>
                <caption>Projects in Progress...</caption>
                <colgroup>
                    <col width="20%">
                    <col width="50%">
                    <col width="30%">
                </colgroup>
                <thead>
                    <tr>
                        <th>Project Name</th>
                        <th>Description</th>
                        <th>Technologies</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>This Portfolio</td>
                        <td>A personal portfolio website showcasing my projects, skills, and experience.</td>
                        <td>HTML, CSS, JavaScript</td>
                    </tr>
                    <tr>
                        <td>Guitar Tuner</td>
                        <td>A full stack application to help users tune their guitar and translate their music into sheet music.</td>
                        <td>JavaScript, HTML, CSS, PostgreSQL, Node.js</td>
                    </tr>
                    <tr>
                        <td>WebScrapers</td>
                        <td>Several webscrapers aimed to collect financial data from public companies.</td>
                        <td>Python, BeautifulSoup4, JavaScript</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>
    
    <footer>
        <ul class="footer-social">
            <li>
                <i class="fa-solid fa-envelope"></i>
                <a href="mailto:kenpt03@gmail.com">Gmail</a>
            </li>
            <li>
                <i class="fa-brands fa-github"></i>
                <a href="https://github.com/21KennethTran" target="_blank">GitHub</a>
            </li>
            <li>
                <i class="fa-brands fa-linkedin"></i>
                <a href="https://www.linkedin.com/in/kenneth-tran-ba708b222/" target="_blank">LinkedIn</a>
            </li>
        </ul>
        <p>&copy; 2025 Kenneth Tran</p>
    </footer>
</body>
</html>